# Кинотеатр «Места для поцелуев» 

REST API для бронирования билетов

Система управления кинотеатром с поддержкой:
- управления залами, фильмами и сеансами (админка),
- бронирования и подтверждения билетов (покупатель),
- аудита всех изменений,
- полной изоляции данных и защиты от ошибок (двойное бронирование, пересечение сеансов).

---

## Основные возможности

### Администратор
- Создание/удаление кинозалов, рядов и мест
- Добавление/удаление фильмов и сеансов
- Контроль целостности:
   - нельзя создать сеанс, пересекающийся по времени в одном зале
   - нельзя удалить фильм/зал с существующими сеансами

### Покупатель (зритель)
- Просмотр сеансов по дате
- Просмотр свободных мест с указанием ряда и номера
- Бронирование места → получение уникального кода
- Отмена брони (место возвращается в свободные)
- Подтверждение брони на кассе (статус `USED`)

### Аудит и надёжность
- Все операции (`CREATE`, `UPDATE`, `DELETE`) логируются
- В логе: тип сущности, ID, автор (`admin`/`user`), время, описание
- Гарантия уникальности:
   - одно место — одна активная бронь (`RESERVED`)
   - уникальный код бронирования

---

## Технологии

- **Язык**: Java 17+
- **Фреймворк**: Spring Boot 3.5
- **База данных**: PostgreSQL (через Docker)
- **ORM**: Spring Data JPA + Hibernate
- **Сборка**: Maven
- **Контейнеризация**: Docker Compose
- **IDE**: IntelliJ IDEA
- **Тестирование**: curl / Postman

---

## Запуск проекта

### 1. Запустите PostgreSQL в Docker
docker compose up -d